{% extends "base.html" %}
{% block content %}
<section>
  <form method="POST">
    <label>Ciphertext:</label>
    <textarea name="ciphertext" required>{{ request.form.get('ciphertext', '') }}</textarea>
    
    <label>Key (integer):</label>
    <input type="number" name="key" value="{{ request.form.get('key', '') }}" required>
    
    <button type="submit">Decrypt</button>
  </form>

  {% if result %}
    <h3>Plaintext Result:</h3>
    <pre class="output-box">{{ result.text }}</pre>

    <h3>Mathematical Trace (Subtraction):</h3>
    <div class="output-box" style="font-size: 0.85rem; line-height: 1.6;">
        {% for step in result.steps %}
            {{ step }}<br>
        {% endfor %}
    </div>
  {% endif %}

  <div class="error-message">{{ error if error }}</div>
</section>
{% endblock %}